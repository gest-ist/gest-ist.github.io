<!DOCTYPE html>
<html lang="pt" data-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GESTCon — Convenção de Jogos de Tabuleiro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/gestcon/gestcon.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="icon" href="/static/logos/small_blue.svg">
    <!-- Tom Select -->
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.4.3/dist/css/tom-select.css" rel="stylesheet">
</head>

<body class="has-navbar-fixed-top">
    <script>0</script>
    <a class="skip-link" href="#main-content"
        style="position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden;">Skip to content</a>

    <div class="modal" id="login-modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Login</p>
            </header>
            <section class="modal-card-body">
                <div class="field">
                    <label class="label">Nome</label>
                    <div class="control">
                        <input class="input" type="text" id="user-name" autocomplete="off">
                    </div>
                    <p class="help">O teu nome, para que fiquemos com um registo de quem é que deu que jogos a quem.</p>
                </div>

                <div class="field">
                    <label class="label">Token</label>
                    <div class="control">
                        <input class="input" type="password" id="token-input">
                    </div>
                </div>
            </section>
            <footer class="modal-card-foot  is-flex is-flex-direction-column">
                <div class="field">
                    <div class="control">
                        <button class="button is-primary" id="login-button">
                            Login
                        </button>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <div class="modal" id="request-modal">
        <div class="modal-background close-modal"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Requisição</p>
                <button class="delete close-modal"></button>
            </header>
            <section class="modal-card-body">
                <div class="is-flex is-flex-direction-column is-align-items-center has-text-centered">
                    <div class="box image-container">
                        <figure class="image is-centered">
                            <img src="https://placehold.co/64x64">
                        </figure>
                    </div>
                    <p class="game-title is-size-3"></p>
                    <p class="game-shelf is-size-4"></p>
                </div>
                <div class="field">
                    <label class="label">Utilizador</label>
                    <div class="select is-loading is-fullwidth">
                        <select id="select-user" data-placeholder="Seleciona o utilizador" autocomplete="off"
                            disabled></select>
                    </div>
                    <p class="help">Pesquisar por nome, e-mail ou número de telemóvel do utilizador.</p>
                </div>
            </section>
            <footer class="modal-card-foot is-justify-content-center">

                <button class="button is-warning" id="request-button" disabled>
                    Registar requisição de jogo
                </button>
            </footer>
        </div>
    </div>

    <div class="modal" id="return-modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Devolução</p>
                <button class="delete close-modal"></button>
            </header>
            <section class="modal-card-body">
                <div class="is-flex is-flex-direction-column is-align-items-center has-text-centered">
                    <div class="box image-container">
                        <figure class="image is-centered">
                            <img src="https://placehold.co/64x64">
                        </figure>
                    </div>
                    <p class="game-title is-size-3"></p>
                    <p class="game-shelf is-size-4"></p>
                    <p class="current-requester is-size-5"></p>
                </div>
            </section>
            <footer class="modal-card-foot is-justify-content-center">

                <button class="button is-success" id="return-button">
                    Registar devolução de jogo
                </button>
            </footer>
        </div>
    </div>

    <div class="modal" id="add-user-modal">
        <div class="modal-background close-modal"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Adicionar utilizador</p>
                <button class="delete close-modal"></button>
            </header>
            <section class="modal-card-body">
                <div class="field">
                    <label class="label">Nome*</label>
                    <input class="input" type="text" id="add-user-name">
                </div>
                <div class="field">
                    <label class="label">Número de telemóvel*</label>
                    <input class="input" type="tel" id="add-user-phone">
                </div>
                <div class="field">
                    <label class="label">E-mail</label>
                    <input class="input" type="email" id="add-user-email">
                </div>
                <p>* Campos obrigatórios</p>
            </section>
            <footer class="modal-card-foot is-justify-content-center">
                <button class="button is-primary px-6" id="register-add-user" disabled>
                        <span class="icon">
                            <i class="fas fa-user-plus"></i>
                        </span>
                        <span>Adicionar Utilizador</span>
                    </button>
            </footer>
        </div>
    </div>

    <div class="modal" id="error-modal">
        <div class="modal-background close-modal"></div>
        <div class="notification is-danger">
            <button class="delete close-modal"></button>
            <p id="error-modal-text"></p>
        </div>
    </div>

    <main id="main-content">
        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <div class="navbar-item is-size-3" id="user-name-display">
                </div>
            </div>

            <div class="navbar-menu">

                <div class="navbar-start"></div>

                <div class="navbar-item">
                    <div class="tabs is-large is-centered">
                        <ul>
                            <li id="tab-games" class="is-active"><a>
                                    <span class="icon is-small"><i class="fas fa-dice"></i></span>
                                    <span>Jogos</span>
                                </a></li>
                            <li id="tab-users"><a>
                                    <span class="icon is-small"><i class="fas fa-users"></i></span>
                                    <span>Utilizadores</span>
                                </a></li>
                        </ul>
                    </div>
                </div>

                <div class="navbar-end">
                    <div class="navbar-item">
                        <button class="button is-light is-medium" id="logout-button">
                            <span class="icon is-small"><i class="fas fa-right-from-bracket"></i></span>
                            <span>Logout</span>
                        </button>
                    </div>
                </div>
            </div>
        </nav>


        <section class="section" id="games">
            <div class="field">
                <p class="control is-expanded has-icons-left">
                    <input class="input" type="text" placeholder="Procurar jogo..." id="games-search-bar">
                    <span class="icon is-small is-left">
                        <i class="fas fa-search"></i>
                    </span>
                </p>
            </div>
            <table class="table is-fullwidth is-hoverable" id="game-table">
                <colgroup>
                    <col style="width: 6%">
                    <col style="width: 35%">
                    <col style="width: 5%">
                    <col style="width: 10%">
                    <col style="width: 20%">
                    <col style="width: 10%">
                    <col style="width: 8%">
                    <col style="width: 6%">
                </colgroup>
                <thead>
                    <tr>
                        <th>BGG ID</th>
                        <th>Título</th>
                        <th>Prateleira</th>
                        <th>Estado</th>
                        <th>Na posse de</th>
                        <th>Nº requisições</th>
                        <th>Registar</th>
                        <th>Logs</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>

        <section class="section is-hidden" id="users">
            <div class="field is-grouped">
                <p class="control is-expanded has-icons-left">
                    <input class="input" type="text" placeholder="Nome email ou número de telemóvel..." id="users-search-bar">
                    <span class="icon is-small is-left">
                        <i class="fas fa-search"></i>
                    </span>
                </p>

                <p class="control">
                    <button class="button is-primary px-6 mx-6" id="add-user">
                        <span class="icon">
                            <i class="fas fa-user-plus"></i>
                        </span>
                        <span>Adicionar Utilizador</span>
                    </button>
                </p>
            </div>
            <table class="table is-fullwidth is-hoverable" id="user-table">
                <colgroup>
                    <col style="width: 23%">
                    <col style="width: 23%">
                    <col style="width: 15%">
                    <col style="width: 23%">
                    <col style="width: 10%">
                    <col style="width: 6%">
                </colgroup>
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>E-mail</th>
                        <th>Telemóvel</th>
                        <th>Na posse de</th>
                        <th>Nº requisições</th>
                        <th>Logs</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </section>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="content has-text-centered">
            <p>&copy; 2025 GEST</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/tom-select@2.4.3/dist/js/tom-select.complete.min.js"></script>
    <script src="admin.js" defer></script>
</body>

</html>
